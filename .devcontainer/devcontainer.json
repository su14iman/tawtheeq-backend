{
  "name": "tawtheeq-backend",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "features": {
    "ghcr.io/devcontainers/features/mysql:2": {
      "version": "8.0",
      "database": "tawtheeq_db",
      "mysqlUser": "tawtheeq",
      "mysqlPassword": "tawtheeq"
    },
    "ghcr.io/devcontainers/features/redis:1": {},
    "ghcr.io/devcontainers/features/minio:1": {
      "version": "latest",
      "minioAccessKey": "minioadmin",
      "minioSecretKey": "minioadmin"
    }
  },
  "postCreateCommand": "go mod tidy && ./generate_keys.sh || true",
  "customizations": {
    "vscode": {
      "settings": {
        "go.toolsManagement.autoUpdate": true
      },
      "extensions": [
        "golang.Go",
        "ms-azuretools.vscode-docker"
      ]
    }
  },
  "forwardPorts": [8080, 9000, 3306, 6379],
  "remoteEnv": {
    "MYSQL_HOST": "localhost",
    "MYSQL_USER": "tawtheeq",
    "MYSQL_PASSWORD": "tawtheeq",
    "MYSQL_DATABASE": "tawtheeq_db",
    "REDIS_HOST": "localhost",
    "REDIS_PORT": "6379",
    "MINIO_ENDPOINT": "localhost:9000",
    "MINIO_ACCESS_KEY": "minioadmin",
    "MINIO_SECRET_KEY": "minioadmin"
  }
}
